% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/robularized_SSM.R
\name{attach_insample_info}
\alias{attach_insample_info}
\title{Attach In-Sample Information to Fitted State Space Model}
\usage{
attach_insample_info(model)
}
\arguments{
\item{model}{A fitted model object of class `robularized_SSM`, `classical_SSM`, `oracle_SSM`, `huber_robust_SSM`, or `trimmed_robust_SSM`.}
}
\value{
A modified version of the input model object, with an additional class `insample_info`, and the following in-sample elements appended:
\describe{
  \item{\code{filtered_states}}{Filtered state estimates using data up to each time point.}
  \item{\code{predicted_states}}{One-step-ahead state predictions.}
  \item{\code{filtered_observations}}{Expected observations given data up to each time point.}
  \item{\code{predicted_observations}}{One-step-ahead forecasts of observations.}
  \item{\code{filtered_states_var}}{List of filtered state variance matrices.}
  \item{\code{predicted_states_var}}{List of one-step-ahead state prediction variances.}
  \item{\code{predicted_observations_var}}{List of one-step-ahead observation forecast variances.}
  \item{\code{mahalanobis_residuals}}{Vector of Mahalanobis distances of residuals from predicted observations.}
}

For models of class `robularized_SSM`, `classical_SSM`, or `oracle_SSM`, the following additional elements are also attached:
\describe{
  \item{\code{smoothed_states}}{Posterior means of hidden states using all data.}
  \item{\code{smoothed_observations}}{Posterior mean of the observed series based on smoothed states.}
  \item{\code{smoothed_states_var}}{List of smoothed state variance matrices.}
}
}
\description{
Attaches detailed in-sample information—such as predicted, filtered, and smoothed states and observations—to a model object fitted using any of the package’s supported SSM estimation methods.
These quantities are not stored by default in model objects due to their potentially large memory footprint.
}
\details{
The attached outputs enable richer diagnostics, outlier inspection, and plotting.
For `huber_robust_SSM` and `trimmed_robust_SSM` models, in-sample information is computed using a custom robust filtering function, and smoothed quantities (`smoothed_states`, `smoothed_observations`, and `smoothed_states_var`) are **not available**.
This function should only be applied once to a model object.
}
\seealso{
\code{\link{oos_filter}}
}
